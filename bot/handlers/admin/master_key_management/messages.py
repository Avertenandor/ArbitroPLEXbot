"""
Message formatting utilities for master key management.

Contains:
- Menu message builders
- Status message formatters
- Confirmation and instruction messages
"""


def build_master_key_menu_message(has_master_key: bool) -> str:
    """
    Build master key management menu message.

    Args:
        has_master_key: Whether master key exists

    Returns:
        Formatted message text
    """
    text_lines = [
        "üîë **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Å—Ç–µ—Ä-–∫–ª—é—á–æ–º**",
        "",
    ]

    if has_master_key:
        text_lines.extend([
            "‚úÖ **–°—Ç–∞—Ç—É—Å:** –ú–∞—Å—Ç–µ—Ä-–∫–ª—é—á —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω",
            "",
            "–ú–∞—Å—Ç–µ—Ä-–∫–ª—é—á –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:",
            "‚Ä¢ –í—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å",
            "‚Ä¢ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π",
            "‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–∏–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏",
            "",
            "‚ö†Ô∏è **–í–∞–∂–Ω–æ:**",
            "‚Ä¢ –ö–ª—é—á —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ",
            "‚Ä¢ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ",
            "‚Ä¢ –ü—Ä–∏ –ø–æ—Ç–µ—Ä–µ - —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π",
            "",
            "–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –∏–∑ –º–µ–Ω—é –Ω–∏–∂–µ:"
        ])
    else:
        text_lines.extend([
            "‚ö†Ô∏è **–°—Ç–∞—Ç—É—Å:** –ú–∞—Å—Ç–µ—Ä-–∫–ª—é—á –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω",
            "",
            "–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ",
            "—Å–æ–∑–¥–∞—Ç—å –º–∞—Å—Ç–µ—Ä-–∫–ª—é—á.",
            "",
            "–ú–∞—Å—Ç–µ—Ä-–∫–ª—é—á –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è:",
            "‚Ä¢ –í—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å",
            "‚Ä¢ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π",
            "‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–∏–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏",
            "",
            "–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è."
        ])

    return "\n".join(text_lines)


def build_key_status_message(master_key_hash: str) -> str:
    """
    Build master key status message.

    Args:
        master_key_hash: Hashed master key

    Returns:
        Formatted status message
    """
    text_lines = [
        "üìã **–°—Ç–∞—Ç—É—Å –º–∞—Å—Ç–µ—Ä-–∫–ª—é—á–∞**",
        "",
        "‚úÖ **–ö–ª—é—á —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:** –î–∞",
        f"üîê **–•–µ—à:** `{master_key_hash[:20]}...`",
        "",
        "‚ö†Ô∏è **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**",
        "‚Ä¢ –ö–ª—é—á —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ (bcrypt)",
        "‚Ä¢ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–ª—é—á–∞ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ",
        "‚Ä¢ –ü—Ä–∏ –ø–æ—Ç–µ—Ä–µ - –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π",
        "",
        "üîÑ **–°–º–µ–Ω–∞ –∫–ª—é—á–∞:**",
        "‚Ä¢ –°—Ç–∞—Ä—ã–π –∫–ª—é—á –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å",
        "‚Ä¢ –ù–æ–≤—ã–π –∫–ª—é—á –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω –æ–¥–∏–Ω —Ä–∞–∑",
        "‚Ä¢ –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ –≤ –Ω–∞–¥–µ–∂–Ω–æ–º –º–µ—Å—Ç–µ",
    ]

    return "\n".join(text_lines)


def build_confirmation_message() -> str:
    """
    Build regeneration confirmation message.

    Returns:
        Formatted confirmation message
    """
    return (
        "‚ö†Ô∏è **–í–ù–ò–ú–ê–ù–ò–ï: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è**\n\n"
        "–í—ã —Å–æ–±–∏—Ä–∞–µ—Ç–µ—Å—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π –º–∞—Å—Ç–µ—Ä-–∫–ª—é—á.\n\n"
        "**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**\n"
        "‚Ä¢ –°—Ç–∞—Ä—ã–π –∫–ª—é—á –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å\n"
        "‚Ä¢ –ü–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π –∫–ª—é—á\n"
        "‚Ä¢ –ù–æ–≤—ã–π –∫–ª—é—á –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑\n\n"
        "**–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:**\n"
        "–í–≤–µ–¥–∏—Ç–µ —Å–ª–æ–≤–æ **–ü–û–î–¢–í–ï–†–ñ–î–ê–Æ** –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è\n"
        "–∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ '‚óÄÔ∏è –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é' –¥–ª—è –æ—Ç–º–µ–Ω—ã."
    )


def build_new_key_message(plain_master_key: str, is_first_key: bool) -> str:
    """
    Build new master key message.

    Args:
        plain_master_key: Plain text master key
        is_first_key: Whether this is the first key or regeneration

    Returns:
        Formatted message with new key
    """
    title = (
        "‚úÖ **–ù–æ–≤—ã–π –º–∞—Å—Ç–µ—Ä-–∫–ª—é—á —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω!**" if not is_first_key
        else "‚úÖ **–ú–∞—Å—Ç–µ—Ä-–∫–ª—é—á —Å–æ–∑–¥–∞–Ω!**"
    )

    text_lines = [
        title,
        "",
        "üîë **–í–∞—à –º–∞—Å—Ç–µ—Ä-–∫–ª—é—á:**",
        f"`{plain_master_key}`",
        "",
        "‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:**",
        "‚Ä¢ **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–æ—Ç –∫–ª—é—á –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ**",
        "‚Ä¢ –ö–ª—é—á –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑**",
        "‚Ä¢ –ï—Å–ª–∏ –≤—ã –ø–æ—Ç–µ—Ä—è–µ—Ç–µ –∫–ª—é—á, –ø—Ä–∏–¥–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π",
        (
            "‚Ä¢ –°—Ç–∞—Ä—ã–π –∫–ª—é—á –±–æ–ª—å—à–µ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å" if not is_first_key
            else "‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å"
        ),
        "",
        "üìù **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**",
        "‚Ä¢ –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ –º–µ–Ω–µ–¥–∂–µ—Ä–µ –ø–∞—Ä–æ–ª–µ–π",
        "‚Ä¢ –ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ",
        "‚Ä¢ –ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º",
    ]

    return "\n".join(text_lines)


def build_key_copy_message(plain_master_key: str) -> str:
    """
    Build message for easy key copying.

    Args:
        plain_master_key: Plain text master key

    Returns:
        Formatted copy message
    """
    return f"üìã **–ú–∞—Å—Ç–µ—Ä-–∫–ª—é—á –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:**\n\n`{plain_master_key}`"


def build_usage_instructions() -> str:
    """
    Build master key usage instructions.

    Returns:
        Formatted instructions
    """
    return (
        "‚ÑπÔ∏è **–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**\n\n"
        "1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É 'üëë –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å' –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é\n"
        "2. –í–≤–µ–¥–∏—Ç–µ –º–∞—Å—Ç–µ—Ä-–∫–ª—é—á –∫–æ–≥–¥–∞ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ø—Ä–æ—Å–∏—Ç\n"
        "3. –ü–æ–ª—É—á–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-—Ñ—É–Ω–∫—Ü–∏—è–º\n\n"
        "–î–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ."
    )


def build_key_already_exists_message() -> str:
    """
    Build message when key already exists.

    Returns:
        Formatted message
    """
    return (
        "üîë **–ú–∞—Å—Ç–µ—Ä-–∫–ª—é—á —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω**\n\n"
        "–ú–∞—Å—Ç–µ—Ä-–∫–ª—é—á —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ –∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–∫–∞–∑–∞–Ω.\n\n"
        "–ï—Å–ª–∏ –≤—ã –∑–∞–±—ã–ª–∏ –∫–ª—é—á, –≤—ã –º–æ–∂–µ—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π:\n"
        "‚Ä¢ –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –º–µ–Ω—é: `üîß –ê–¥–º–∏–Ω–∫–∞` ‚Üí `üîë –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Å—Ç–µ—Ä-–∫–ª—é—á–æ–º`\n"
        "‚Ä¢ –ò–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏\n\n"
        "‚ö†Ô∏è –ü—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–æ–≤–æ–≥–æ –∫–ª—é—á–∞ —Å—Ç–∞—Ä—ã–π –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å!"
    )


def build_quick_key_created_message(plain_master_key: str) -> str:
    """
    Build message for quick key creation via /masterkey command.

    Args:
        plain_master_key: Plain text master key

    Returns:
        Formatted message
    """
    return (
        f"‚úÖ **–ú–∞—Å—Ç–µ—Ä-–∫–ª—é—á —Å–æ–∑–¥–∞–Ω!**\n\n"
        f"üîë –í–∞—à –∫–ª—é—á:\n"
        f"`{plain_master_key}`\n\n"
        f"‚ö†Ô∏è **–í–ê–ñ–ù–û:**\n"
        f"‚Ä¢ –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–ª—é—á –≤ –Ω–∞–¥—ë–∂–Ω–æ–º –º–µ—Å—Ç–µ!\n"
        f"‚Ä¢ –≠—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω–æ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑\n"
        f"‚Ä¢ –ö–ª—é—á –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å\n\n"
        f"–î–ª—è –≤—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω–∫—É –Ω–∞–∂–º–∏—Ç–µ `üîß –ê–¥–º–∏–Ω–∫–∞` –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é."
    )


def build_quick_key_regenerated_message(plain_master_key: str) -> str:
    """
    Build message for quick key regeneration via /masterkey command.

    Args:
        plain_master_key: Plain text master key

    Returns:
        Formatted message
    """
    return (
        f"‚úÖ **–ù–æ–≤—ã–π –º–∞—Å—Ç–µ—Ä-–∫–ª—é—á —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω!**\n\n"
        f"üîë –í–∞—à –∫–ª—é—á:\n"
        f"`{plain_master_key}`\n\n"
        f"‚ö†Ô∏è **–í–ê–ñ–ù–û:**\n"
        f"‚Ä¢ –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–ª—é—á –≤ –Ω–∞–¥—ë–∂–Ω–æ–º –º–µ—Å—Ç–µ\n"
        f"‚Ä¢ –≠—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω–æ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑\n"
        f"‚Ä¢ –°—Ç–∞—Ä—ã–π –∫–ª—é—á –±–æ–ª—å—à–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç\n\n"
        f"–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç –∫–ª—é—á –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å."
    )
